{% extends "default.html.twig" %}

{% block title %}Home{% endblock %}

{% block content %}
    {% if not notes is defined or notes|length == 0 %}
        <div id="no-notes"
             class="text-center w-full my-6 px-3 py-5 bg-slate-50 rounded-lg shadow-xs shadow-purple-100 border border-purple-100 text-neutral-600">
            You've not created any notes yet.
        </div>
    {% else %}
        <div id="notes">
            {% for note in notes %}
                <article class="note-item" id="note-{{ note.getId|escape }}">
                    <div class="content">
                        <div class="metadata">
                            <p class="note-date">{{ note.getDate|format_datetime('short', 'none') }}</p>
                            <p class="pill purple">{{ note.getCategory|escape }}</p>
                        </div>
                        <h2>{{ note.getTitle|escape }}</h2>
                        <p>{{ note.getBody|escape }}</p>
                    </div>
                    <div class="controls">
                        <form action="/edit/{{ note.getId|escape }}" name="form-edit-note">
                            <button class="button flex edit">
                                <img src="/images/white/edit.png"
                                     class="my-1"
                                     width="18"
                                     alt="Edit note {{ note.getId|escape }}">
                                <span class="ml-1">edit</span>
                            </button>
                            <input type="hidden" value="{{ note.getId|escape }}" name="note-id">
                        </form>
                        <form action="/delete/{{ note.getId|escape }}" name="form-delete-note">
                            <button class="button flex delete">
                                <img src="/images/delete.png"
                                     class="my-1"
                                     width="18"
                                     alt="Delete note {{ note.getId|escape }}">
                                <span class="ml-1">delete</span>
                            </button>
                            <input type="hidden" value="{{ note.getId|escape }}" name="note-id">
                        </form>
                    </div>
                </article>
            {% endfor %}
        </div>
    {% endif %}
{% endblock %}
